@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  .gallery-group {
    /* exported wrapper class (no extra rules required here) */
  }

  .gallery-image {
    /* start with no blur but grayscale */
    filter: grayscale(100%) blur(0px);
    transition: filter 130ms ease-out, opacity 150ms ease-out, transform 150ms ease-out;
    -webkit-transition: filter 180ms ease-out, opacity 200ms ease-out, -webkit-transform 200ms ease-out;
    will-change: filter, opacity, transform;
    backface-visibility: hidden;
  }

  /* When hovering the gallery, blur & grayscale all images except the hovered one.
     Use a high practical blur (80px) and slightly scale/fade non-hovered images for stronger separation. */
  .gallery-group:hover .gallery-image:not(:hover) {
    filter: grayscale(100%);
    opacity: 0.7;
    transition: filter 420ms ease-out, opacity 300ms ease-out, transform 420ms ease-out;
  }

  /* Ensure hovered image clears quickly */
  .gallery-image:hover {
    filter: grayscale(0%) blur(0px) !important;
    opacity: 1;
    transform: none;
    transition: filter 120ms ease-out, opacity 120ms ease-out, transform 120ms ease-out;
  }

  /* Override: ensure blur is removed when you don't want it (placed after previous rules) */
  .gallery-group:hover .gallery-image:not(:hover) {
    /* remove blur; keep grayscale if desired */
    filter: grayscale(100%) blur(12px) !important;
    opacity: 0.7;
    transform: none !important;
    transition: filter 200ms ease-out, opacity 200ms ease-out, transform 200ms ease-out;
  }

  /* ensure base images have no unintended blur */
  .gallery-image {
    filter: grayscale(100%) blur(0px) !important;
  }

  /* hovered image clears immediately */
  .gallery-image:hover {
    filter: grayscale(0%) blur(0px) !important;
    opacity: 1 !important;
    transition: filter 120ms ease-out, opacity 120ms ease-out;
  }
}
